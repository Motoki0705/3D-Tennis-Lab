# 🎾 3Dテニス自動解析システム (3D Tennis Analysis System)

本プロジェクトは、テニスの試合映像を自動で解析し、コート、プレーヤー、ボールの動きを**3次元情報**として捉える革新的なシステムを開発することを目的とします。抽出した3Dデータに基づき、戦術的なイベント検出や統計分析を行い、最終的には試合内容を言語化するAIの構築を目指します。

-----

## 🚀 Getting Started

開発を始めるには、Dockerを利用する方法と、ローカル環境に直接セットアップする方法があります。

### Dockerを利用する場合 (推奨)

再現性の高い開発環境をすぐに構築できます。

```bash
# Dockerコンテナをビルドしてバックグラウンドで起動
docker-compose up -d --build

# 起動したコンテナの中に入る (サービス名はdev)
docker-compose exec dev bash
```

### ローカル環境で直接動かす場合 (Local Environment)

本プロジェクトは`Poetry`を使用して依存関係を管理しています。まず、ライブラリをインストールします。

```bash
# 必要なライブラリをインストール
poetry install
```

次に、お使いのターミナル（シェル）に応じて以下のコマンドを実行し、仮想環境を有効化（アクティベート）してください。

  * **Windows (PowerShell) の場合:**
    `.venv`ディレクトリが作成されます。

    ```powershell
    .\.venv\Scripts\Activate.ps1
    ```

  * **WSL の場合:**
    `.venv-wsl`ディレクトリが作成されます。

    ```bash
    source .venv-wsl/bin/activate
    ```

**補足:** 上記の代わりに、`poetry shell`コマンドを実行することでも、同様に仮想環境を有効化できます。

-----

## 🗺️ Directory Structure

プロジェクトの主要なディレクトリとその役割です。

| ディレクトリ/ファイル | 役割 |
| :--- | :--- |
| `3d_tennis_system/` | **統合システムのコアロジック**。再利用可能なモジュール（モデル定義、エンジン等）を格納します。 |
| `development/` | **実験室**。コンポーネントごとのモデル開発や試行錯誤を行う場所です。 |
| `configs/` | モデルや学習、データ処理に関する設定ファイル（YAML等）を管理します。 |
| `data/` | 学習や評価に使用する元データや中間生成物を格納します。（※Git管理対象外） |
| `trained_models/` | 学習済みのモデルの重みファイルなどを格納します。 |
| `notebooks/` | データ分析やモデルの試作のためのJupyter Notebookを配置します。 |
| `scripts/` | 学習、推論、データ前処理などを実行するためのスクリプト群です。 |
| `docs/` | **プロジェクトドキュメント**。このプロジェクトに関する全ての資料を格納します。 |
| `tests/` | コードの品質を保証するためのテストコードを格納します。 |

-----

## 📚 開発の進め方とルール

本プロジェクトに貢献する際は、開発効率とコードの品質を維持するため、プロセスに応じて適切なドキュメントを参照してください。

### プロジェクト全体

| ドキュメント | 内容と参照タイミング |
| :--- | :--- |
| **[プロジェクト計画書](./docs/core/project_plan.md)** | **[最初に読む]** プロジェクトの目的、アーキテクチャ、技術方針、将来展望など、全体の設計思想をまとめています。新しいメンバーが参加した際に、まず初めに参照してください。 |
| **[ブランチ戦略](./docs/core/branch_strategy.md)** | **[開発を始める前に]** `feature` `fix` といったGitブランチの命名規則や、Pull Requestを用いた開発フローを定義しています。コードを書き始める前に必ず確認してください。 |
| **[コミットメッセージ規約](./docs/core/commit_message_rule.md)** | **[コミットする前に]** Conventional Commitsに準拠したメッセージ規約です。変更履歴を分かりやすく保つため、コミット前に書き方を確認してください。 |
| **[実験的開発の進め方](./development/README.md)** | **[モデル開発を始める前に]** `development`ディレクトリでの実験の進め方、成功したモデルの管理方法など、研究開発の具体的なワークフローを説明しています。 |

### データセット関連

| ドキュメント | 内容と参照タイミング |
| :--- | :--- |
| **[コートデータセット仕様書](./docs/dataset/court_dataset.md)** | **[コート姿勢推定タスクに取り組む際に]** コートのキーポイント定義、アノテーション形式、スケルトン情報など、データセットの仕様を詳述しています。 |
| **[ボール・選手 統合データセット仕様書](./docs/dataset/ball_and_player_dataset.md)** | **[ボール追跡・選手姿勢推定タスクに取り組む際に]** ボールと選手のカテゴリが単一ファイルに統合されたデータセットの仕様です。キーポイント定義やアノテーション形式を詳述しています。 |

-----

## 🙌 How to Contribute

このプロジェクトへの貢献に興味がある方は、`CONTRIBUTING.md`をご一読ください。

## 📜 License

このプロジェクトは MIT License のもとで公開されています。詳細は `LICENSE` ファイルをご覧ください。
